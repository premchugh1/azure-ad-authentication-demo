{"ast":null,"code":"import _objectSpread from\"C:/Users/prchugh/AzureADApp/spa/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useMsal}from'@azure/msal-react';import{loginRequest,apiRequest,apiConfig}from'./authConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{instance,accounts,inProgress}=useMsal();const[accessToken,setAccessToken]=useState(null);const[currentStep,setCurrentStep]=useState('initial');const[logs,setLogs]=useState([]);const[apiResponse,setApiResponse]=useState(null);const addLog=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';const timestamp=new Date().toISOString();setLogs(prev=>[...prev,{timestamp,message,type}]);};useEffect(()=>{addLog('Application initialized','info');if(accounts.length>0){setCurrentStep('authenticated');addLog(\"User already authenticated: \".concat(accounts[0].username),'success');}},[accounts]);const handleLogin=async()=>{try{setCurrentStep('login-initiated');addLog('Login initiated...','info');const loginResponse=await instance.loginPopup(loginRequest);setCurrentStep('login-completed');addLog(\"Login successful for user: \".concat(loginResponse.account.username),'success');// Get tokens\nawait acquireTokens(loginResponse.account);}catch(error){addLog(\"Login failed: \".concat(error.message),'error');setCurrentStep('login-failed');console.error(error);}};const acquireTokens=async account=>{try{setCurrentStep('token-acquisition');addLog('Acquiring access token...','info');const tokenRequest=_objectSpread(_objectSpread({},apiRequest),{},{account:account||accounts[0]});const tokenResponse=await instance.acquireTokenSilent(tokenRequest);setAccessToken(tokenResponse.accessToken);setCurrentStep('token-acquired');addLog('Tokens acquired successfully','success');}catch(error){addLog(\"Token acquisition failed: \".concat(error.message),'error');if(error.name==='InteractionRequiredAuthError'){try{const tokenResponse=await instance.acquireTokenPopup(apiRequest);setAccessToken(tokenResponse.accessToken);setCurrentStep('token-acquired');addLog('Tokens acquired via popup','success');}catch(popupError){addLog(\"Popup token acquisition failed: \".concat(popupError.message),'error');}}}};const callApi=async()=>{if(!accessToken)return;try{setCurrentStep('api-call-initiated');addLog('Making API call...','info');const response=await fetch(\"\".concat(apiConfig.baseUrl).concat(apiConfig.protectedEndpoint),{headers:{'Authorization':\"Bearer \".concat(accessToken),'Content-Type':'application/json'}});if(response.ok){const data=await response.json();setApiResponse(data);setCurrentStep('api-response');addLog('API call successful!','success');}else{throw new Error(\"API call failed: \".concat(response.status));}}catch(error){addLog(\"API call failed: \".concat(error.message),'error');}};const handleLogout=()=>{instance.logoutPopup();setAccessToken(null);setApiResponse(null);setCurrentStep('initial');addLog('User logged out','info');};return/*#__PURE__*/_jsxs(\"div\",{style:{fontFamily:'Arial, sans-serif',padding:'20px',maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD10 Azure AD Authentication Test\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This application demonstrates the complete Azure AD authentication flow using MSAL.js\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',backgroundColor:'#f8f9fa',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Authentication Status\"}),accounts.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"strong\",{children:\" Authenticated as:\"}),\" \",accounts[0].username,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{marginTop:'10px',padding:'8px 16px'},children:\"Logout\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"strong\",{children:\" Not authenticated\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,disabled:inProgress!=='none',style:{marginTop:'10px',padding:'8px 16px',backgroundColor:'#0078d4',color:'white',border:'none',borderRadius:'4px'},children:inProgress!=='none'?'Logging in...':'Login with Azure AD'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',backgroundColor:'#e3f2fd',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Authentication Flow Status\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Current Step: \",/*#__PURE__*/_jsx(\"strong\",{children:currentStep.replace('-',' ').toUpperCase()})]}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'10px 0'},children:['initial','login-initiated','login-completed','token-acquisition','token-acquired','api-call-initiated','api-response'].map(step=>/*#__PURE__*/_jsx(\"span\",{style:{display:'inline-block',margin:'2px',padding:'4px 8px',borderRadius:'4px',fontSize:'12px',backgroundColor:currentStep===step?'#ffc107':['initial','login-initiated','login-completed','token-acquisition','token-acquired','api-call-initiated','api-response'].indexOf(currentStep)>['initial','login-initiated','login-completed','token-acquisition','token-acquired','api-call-initiated','api-response'].indexOf(step)?'#28a745':'#e9ecef',color:currentStep===step?'black':['initial','login-initiated','login-completed','token-acquisition','token-acquired','api-call-initiated','api-response'].indexOf(currentStep)>['initial','login-initiated','login-completed','token-acquisition','token-acquired','api-call-initiated','api-response'].indexOf(step)?'white':'black'},children:step.replace('-',' ')},step))})]}),accessToken&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',backgroundColor:'#fff3cd',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Token\"}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#f8f9fa',padding:'10px',borderRadius:'4px',fontFamily:'monospace',fontSize:'12px',wordBreak:'break-all',maxHeight:'150px',overflow:'auto'},children:accessToken}),/*#__PURE__*/_jsx(\"button\",{onClick:callApi,style:{marginTop:'10px',padding:'8px 16px',backgroundColor:'#28a745',color:'white',border:'none',borderRadius:'4px'},children:\"Call Protected API\"})]}),apiResponse&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',backgroundColor:'#d4edda',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"API Response\"}),/*#__PURE__*/_jsx(\"pre\",{style:{backgroundColor:'#f8f9fa',padding:'10px',borderRadius:'4px',overflow:'auto'},children:JSON.stringify(apiResponse,null,2)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',backgroundColor:'#f8f9fa',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Activity Log\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflow:'auto',border:'1px solid #ddd',borderRadius:'4px'},children:logs.map((log,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'4px 8px',borderBottom:'1px solid #eee',backgroundColor:log.type==='error'?'#ffe6e6':log.type==='success'?'#e6ffe6':log.type==='warning'?'#fff3e0':'white',fontSize:'12px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"[\",new Date(log.timestamp).toLocaleTimeString(),\"]\"]}),\" \",log.message]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',padding:'15px',backgroundColor:'#ffebee',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD27 Quick Troubleshooting\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Login fails:\"}),\" Check that your app registration redirect URIs include this domain\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Token acquisition fails:\"}),\" Verify API permissions are granted and consented\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"API call fails:\"}),\" Ensure Function App is running and CORS is configured\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"401 errors:\"}),\" Check that API client ID matches token audience\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"AADSTS650052 error:\"}),\" API app registration needs a service principal - run: \",/*#__PURE__*/_jsx(\"code\",{children:\"az ad sp create --id [API_CLIENT_ID]\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Admin consent required:\"}),\" Grant permissions with: \",/*#__PURE__*/_jsx(\"code\",{children:\"az ad app permission admin-consent --id [SPA_CLIENT_ID]\"})]})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useMsal","loginRequest","apiRequest","apiConfig","jsx","_jsx","jsxs","_jsxs","App","instance","accounts","inProgress","accessToken","setAccessToken","currentStep","setCurrentStep","logs","setLogs","apiResponse","setApiResponse","addLog","message","type","arguments","length","undefined","timestamp","Date","toISOString","prev","concat","username","handleLogin","loginResponse","loginPopup","account","acquireTokens","error","console","tokenRequest","_objectSpread","tokenResponse","acquireTokenSilent","name","acquireTokenPopup","popupError","callApi","response","fetch","baseUrl","protectedEndpoint","headers","ok","data","json","Error","status","handleLogout","logoutPopup","style","fontFamily","padding","maxWidth","margin","children","marginBottom","backgroundColor","borderRadius","color","onClick","marginTop","disabled","border","replace","toUpperCase","map","step","display","fontSize","indexOf","wordBreak","maxHeight","overflow","JSON","stringify","log","index","borderBottom","toLocaleTimeString"],"sources":["C:/Users/prchugh/AzureADApp/spa/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useMsal } from '@azure/msal-react';\r\nimport { loginRequest, apiRequest, apiConfig } from './authConfig';\r\n\r\nfunction App() {\r\n  const { instance, accounts, inProgress } = useMsal();\r\n  const [accessToken, setAccessToken] = useState(null);\r\n  const [currentStep, setCurrentStep] = useState('initial');\r\n  const [logs, setLogs] = useState([]);\r\n  const [apiResponse, setApiResponse] = useState(null);\r\n\r\n  const addLog = (message, type = 'info') => {\r\n    const timestamp = new Date().toISOString();\r\n    setLogs(prev => [...prev, { timestamp, message, type }]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    addLog('Application initialized', 'info');\r\n    if (accounts.length > 0) {\r\n      setCurrentStep('authenticated');\r\n      addLog(`User already authenticated: ${accounts[0].username}`, 'success');\r\n    }\r\n  }, [accounts]);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      setCurrentStep('login-initiated');\r\n      addLog('Login initiated...', 'info');\r\n      \r\n      const loginResponse = await instance.loginPopup(loginRequest);\r\n      \r\n      setCurrentStep('login-completed');\r\n      addLog(`Login successful for user: ${loginResponse.account.username}`, 'success');\r\n      \r\n      // Get tokens\r\n      await acquireTokens(loginResponse.account);\r\n      \r\n    } catch (error) {\r\n      addLog(`Login failed: ${error.message}`, 'error');\r\n      setCurrentStep('login-failed');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const acquireTokens = async (account) => {\r\n    try {\r\n      setCurrentStep('token-acquisition');\r\n      addLog('Acquiring access token...', 'info');\r\n      \r\n      const tokenRequest = {\r\n        ...apiRequest,\r\n        account: account || accounts[0],\r\n      };\r\n      \r\n      const tokenResponse = await instance.acquireTokenSilent(tokenRequest);\r\n      setAccessToken(tokenResponse.accessToken);\r\n      \r\n      setCurrentStep('token-acquired');\r\n      addLog('Tokens acquired successfully', 'success');\r\n      \r\n    } catch (error) {\r\n      addLog(`Token acquisition failed: ${error.message}`, 'error');\r\n      \r\n      if (error.name === 'InteractionRequiredAuthError') {\r\n        try {\r\n          const tokenResponse = await instance.acquireTokenPopup(apiRequest);\r\n          setAccessToken(tokenResponse.accessToken);\r\n          setCurrentStep('token-acquired');\r\n          addLog('Tokens acquired via popup', 'success');\r\n        } catch (popupError) {\r\n          addLog(`Popup token acquisition failed: ${popupError.message}`, 'error');\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const callApi = async () => {\r\n    if (!accessToken) return;\r\n\r\n    try {\r\n      setCurrentStep('api-call-initiated');\r\n      addLog('Making API call...', 'info');\r\n\r\n      const response = await fetch(`${apiConfig.baseUrl}${apiConfig.protectedEndpoint}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${accessToken}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setApiResponse(data);\r\n        setCurrentStep('api-response');\r\n        addLog('API call successful!', 'success');\r\n      } else {\r\n        throw new Error(`API call failed: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      addLog(`API call failed: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    instance.logoutPopup();\r\n    setAccessToken(null);\r\n    setApiResponse(null);\r\n    setCurrentStep('initial');\r\n    addLog('User logged out', 'info');\r\n  };\r\n\r\n  return (\r\n    <div style={{ fontFamily: 'Arial, sans-serif', padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\r\n      <h1>üîê Azure AD Authentication Test</h1>\r\n      <p>This application demonstrates the complete Azure AD authentication flow using MSAL.js</p>\r\n      \r\n      {/* Authentication Status */}\r\n      <div style={{ marginBottom: '20px', padding: '15px', backgroundColor: '#f8f9fa', borderRadius: '8px' }}>\r\n        <h2>Authentication Status</h2>\r\n        {accounts.length > 0 ? (\r\n          <div>\r\n            <span style={{ color: 'green' }}>‚úÖ</span>\r\n            <strong> Authenticated as:</strong> {accounts[0].username}\r\n            <br />\r\n            <button onClick={handleLogout} style={{ marginTop: '10px', padding: '8px 16px' }}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <span style={{ color: 'red' }}>‚ùå</span>\r\n            <strong> Not authenticated</strong>\r\n            <br />\r\n            <button \r\n              onClick={handleLogin} \r\n              disabled={inProgress !== 'none'}\r\n              style={{ marginTop: '10px', padding: '8px 16px', backgroundColor: '#0078d4', color: 'white', border: 'none', borderRadius: '4px' }}\r\n            >\r\n              {inProgress !== 'none' ? 'Logging in...' : 'Login with Azure AD'}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Authentication Flow */}\r\n      <div style={{ marginBottom: '20px', padding: '15px', backgroundColor: '#e3f2fd', borderRadius: '8px' }}>\r\n        <h2>Authentication Flow Status</h2>\r\n        <div>Current Step: <strong>{currentStep.replace('-', ' ').toUpperCase()}</strong></div>\r\n        <div style={{ margin: '10px 0' }}>\r\n          {['initial', 'login-initiated', 'login-completed', 'token-acquisition', 'token-acquired', 'api-call-initiated', 'api-response'].map(step => (\r\n            <span \r\n              key={step}\r\n              style={{ \r\n                display: 'inline-block',\r\n                margin: '2px',\r\n                padding: '4px 8px',\r\n                borderRadius: '4px',\r\n                fontSize: '12px',\r\n                backgroundColor: currentStep === step ? '#ffc107' : \r\n                                 ['initial', 'login-initiated', 'login-completed', 'token-acquisition', 'token-acquired', 'api-call-initiated', 'api-response'].indexOf(currentStep) > \r\n                                 ['initial', 'login-initiated', 'login-completed', 'token-acquisition', 'token-acquired', 'api-call-initiated', 'api-response'].indexOf(step) ? '#28a745' : '#e9ecef',\r\n                color: currentStep === step ? 'black' : \r\n                       ['initial', 'login-initiated', 'login-completed', 'token-acquisition', 'token-acquired', 'api-call-initiated', 'api-response'].indexOf(currentStep) > \r\n                       ['initial', 'login-initiated', 'login-completed', 'token-acquisition', 'token-acquired', 'api-call-initiated', 'api-response'].indexOf(step) ? 'white' : 'black'\r\n              }}\r\n            >\r\n              {step.replace('-', ' ')}\r\n            </span>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Token Display */}\r\n      {accessToken && (\r\n        <div style={{ marginBottom: '20px', padding: '15px', backgroundColor: '#fff3cd', borderRadius: '8px' }}>\r\n          <h2>Access Token</h2>\r\n          <div style={{ \r\n            backgroundColor: '#f8f9fa',\r\n            padding: '10px',\r\n            borderRadius: '4px',\r\n            fontFamily: 'monospace',\r\n            fontSize: '12px',\r\n            wordBreak: 'break-all',\r\n            maxHeight: '150px',\r\n            overflow: 'auto'\r\n          }}>\r\n            {accessToken}\r\n          </div>\r\n          <button \r\n            onClick={callApi}\r\n            style={{ \r\n              marginTop: '10px', \r\n              padding: '8px 16px', \r\n              backgroundColor: '#28a745', \r\n              color: 'white', \r\n              border: 'none', \r\n              borderRadius: '4px' \r\n            }}\r\n          >\r\n            Call Protected API\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* API Response */}\r\n      {apiResponse && (\r\n        <div style={{ marginBottom: '20px', padding: '15px', backgroundColor: '#d4edda', borderRadius: '8px' }}>\r\n          <h2>API Response</h2>\r\n          <pre style={{ backgroundColor: '#f8f9fa', padding: '10px', borderRadius: '4px', overflow: 'auto' }}>\r\n            {JSON.stringify(apiResponse, null, 2)}\r\n          </pre>\r\n        </div>\r\n      )}\r\n\r\n      {/* Activity Log */}\r\n      <div style={{ marginBottom: '20px', padding: '15px', backgroundColor: '#f8f9fa', borderRadius: '8px' }}>\r\n        <h2>Activity Log</h2>\r\n        <div style={{ maxHeight: '200px', overflow: 'auto', border: '1px solid #ddd', borderRadius: '4px' }}>\r\n          {logs.map((log, index) => (\r\n            <div \r\n              key={index} \r\n              style={{ \r\n                padding: '4px 8px', \r\n                borderBottom: '1px solid #eee',\r\n                backgroundColor: log.type === 'error' ? '#ffe6e6' : \r\n                                log.type === 'success' ? '#e6ffe6' : \r\n                                log.type === 'warning' ? '#fff3e0' : 'white',\r\n                fontSize: '12px'\r\n              }}\r\n            >\r\n              <strong>[{new Date(log.timestamp).toLocaleTimeString()}]</strong> {log.message}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Troubleshooting */}\r\n      <div style={{ marginBottom: '20px', padding: '15px', backgroundColor: '#ffebee', borderRadius: '8px' }}>\r\n        <h2>üîß Quick Troubleshooting</h2>\r\n        <ul style={{ fontSize: '14px' }}>\r\n          <li><strong>Login fails:</strong> Check that your app registration redirect URIs include this domain</li>\r\n          <li><strong>Token acquisition fails:</strong> Verify API permissions are granted and consented</li>\r\n          <li><strong>API call fails:</strong> Ensure Function App is running and CORS is configured</li>\r\n          <li><strong>401 errors:</strong> Check that API client ID matches token audience</li>\r\n          <li><strong>AADSTS650052 error:</strong> API app registration needs a service principal - run: <code>az ad sp create --id [API_CLIENT_ID]</code></li>\r\n          <li><strong>Admin consent required:</strong> Grant permissions with: <code>az ad app permission admin-consent --id [SPA_CLIENT_ID]</code></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}